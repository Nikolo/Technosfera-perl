Домашнее задание "анализатор логов веб-сервера"
===============================================

В файле access.log.bz2 находится обезличенный фрагмент логов веб-сервера. Каждая строка содержит следующие поля:
* IP-адрес
* метка времени
* строка запроса
* статус-код выполнения запроса
* кол-во отданных по сети байт сжатых данных
* refferer (URI, с которого был осуществлен вызов запроса)
* user agent (метка браузера или робота, выполнившего запрос)
* коэффициент сжатия данных перед передачей по сети

Пример строки
-------------

```
68.51.111.236 [03/Mar/2017:18:28:38 +0300] "GET /music/artists/Pink%20Floyd HTTP/1.1" 200 66477 "-" "Mozilla/5.0 (compatible; Yahoo! Slurp; http://help.yahoo.com/help/us/ysearch/slurp)" "6.51"
```

Так, здесь произошел запрос к URI /music/artists/Pink%20Floyd с IP-адреса 68.51.111.236. Статус выполнения запроса - 200, передано 66477 байт сжатых данных (коэффициент сжатия 6.51).
По необъяснимым причинам строки в файле могут быть битыми. Такие строки не участвуют в обработке и должны игнорироваться.

Задача
------

Требуется написать скрипт для обработки данного лог-файла, который получит на вход имя файла с логом, и выведет таблицу в формате TSV (tab-separated-values). Лог может быть сжат при помощи bzip2,
в этом случае он имеет расширение ".bz2".
Таблица должна содержать строки с информацией по каждому из 10 хостов, совершивших наибольшее число запросов, а также строку с информацией для всего лога в целом.
Строки должны быть отсортированы по количеству фактически совершенных запросов в обратном порядке, то есть первой идет строка "total" с информацией по всему логу, за ней - информация по самому активному IP и т.д.

Колонки отчета должны следовать в следующем порядке:
* IP - IP адрес хоста (или "total" для первой строки)
* count - фактическое кол-во запросов, совершенных хостом (для "total" - совершенных всеми хостами)
* avg - среднее кол-во запросов в минуту с точностью 2 символа после запятой (в расчете участвуют только те минуты, в которые происходили запросы)
* data - кол-во реально переданных данных (после расжатия; в целых килобайтах) для ответов со статусом 200
* <STATUS> (например, 200) - кол-во сжатых данных по каждому статусу, в целых килобайтах (колонки должны следовать в порядке возрастания кода статуса)

Округление данных в колонках, которые этого требуют, должно происходить при выводе. Подсчет данных должен происходить без округления (при условии, что это имеет смысл).


Пример вывода программы
-----------------------

Приведенные ниже данные неосмысленны, это просто пример того, как может выглядеть выдача программы.

```perl
IP	count	avg	data	200	301	302	400	403	404	408	414	499	500
total	10	10.55	4321	4723	708	102	82	479	229	0	1	0	211
121.0.0.1	5	2.32	0	63036	146	248	0	0	48	63	0	0	0
121.0.0.2	3	2.68	1106	112	12	31	0	0	60	0	0	12	0
121.0.0.3	2	1.12	1986	813	1	0	0	82	0	1	0	0	0
...
```
